foo <- beh.data$log.frames.df %>%
select(-vars(matches('cue'))) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-matches('cue')) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
View(foo)
foo <- beh.data$log.frames.df %>%
select(-matches('cue')) %>%
filter(!grepl('Cue',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-matches('cue')) %>%
filter(!grepl('Cue|Block|ProcList',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-matches('cue')) %>%
filter(!grepl('Cue|Block|ProcList',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
View(foo)
foo <- beh.data$log.frames.df %>%
select(-matches('cue||ProcList')) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-matches('cue|ProcList')) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-matches('cue|ProcList')) %>%
filter(!grepl('Cue|Block|Image?',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-matches('cue|ProcList|Image?')) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-matches('cue|ProcList|Image[1,2]')) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Subject,Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Subject,Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(vars(matches('ProbeList'))),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Subject,Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(matches('ProbeList')),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo$ProbeList.all
foo$ProbeList
foo$ProbeList.all
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Subject,Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(vars(contains('ProbeList'))),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo$ProbeList
foo$ProbeList.all
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Subject,Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(c(vars(contains('ProbeList')))),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
)
foo$ProbeList.all
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Subject,Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
) %>%
mutate_at(vars(contains('Probe.all')),funs(as.numeric(.)))
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Subject,Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
) %>%
mutate_at(vars(matches('Probe|ClickCount|Code|CorrectResponse')),funs(as.numeric(.)))
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Subject,Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
) %>%
mutate_at(vars(matches('Probe|ClickCount|Code|CorrectResponse|Dur')),funs(as.numeric(.)))
warnings()
foo <- beh.data$log.frames.df %>%
select(-c(matches('cue|ProcList|Image[1,2]|Session|Version|Runtime'),
Subject,Experiment,DataFile.Basename,RandomSeed,Group,
Display.RefreshRate,Clock.Information)) %>%
filter(!grepl('Cue|Block',Procedure)) %>%
rowwise() %>%
mutate(ProbeList.all = coalesce(ProbeList,ProbeList1,ProbeList2),
ProbeList.all.Cycle = coalesce(ProbeList.Cycle,ProbeList1.Cycle,ProbeList2.Cycle),
ProbeList.all.Sample=coalesce(ProbeList.Sample,ProbeList1.Sample,ProbeList2.Sample),
Probe.all.OnsetDelay=coalesce(Probe.OnsetDelay,Probe1.OnsetDelay,Probe2.OnsetDelay),
Probe.all.OnsetTime=coalesce(Probe.OnsetTime,Probe1.OnsetTime,Probe2.OnsetTime),
Probe.all.DurationError=coalesce(Probe.DurationError,Probe1.DurationError,Probe2.DurationError),
Probe.all.Duration=coalesce(Probe.Duration,Probe1.Duration,Probe2.Duration),
Probe.all.StartTime=coalesce(Probe.StartTime,Probe1.StartTime,Probe2.StartTime),
Probe.all.FinishTime=coalesce(Probe.FinishTime,Probe1.FinishTime,Probe2.FinishTime),
Probe.all.RTTime=coalesce(Probe.RTTime,Probe1.RTTime,Probe2.RTTime),
Probe.all.ACC=coalesce(Probe.ACC,Probe1.ACC,Probe2.ACC),
Probe.all.RT=coalesce(Probe.RT,Probe1.RT,Probe2.RT),
Probe.all.RESP=coalesce(Probe.RESP,Probe1.RESP,Probe2.RESP),
Probe.all.CRESP=coalesce(Probe.CRESP,Probe1.CRESP,Probe2.CRESP),
Probe.all.OnsetToOnsetTime=coalesce(Probe.OnsetToOnsetTime,Probe1.OnsetToOnsetTime,Probe2.OnsetToOnsetTime)
) %>%
mutate_at(vars(matches('Probe|ClickCount|Code|CorrectResponse|Dur'),-Procedure),funs(as.numeric(.)))
install.packages('xlsx')
library(xlsx)
library(xlsx)
library(dplyr)
library(xlsx)
source('~/GitHub/bwh_face_perception_behavioral/face_perception_behavioral_writeSingleXLSX.R')
warnings()
beh.data$header.frame$DataFile.Basename
paste0(beh.data$header.frame$DataFile.Basename,"_behOutput.xlsx")
data.frame(beh.data(header.frame))
data.frame(beh.data$header.frame)
t(data.frame(beh.data$header.frame))
source('~/GitHub/bwh_face_perception_behavioral/face_perception_behavioral_writeSingleXLSX.R')
warnings()
write.xlsx(x=beh.data$log.frames.df,sheetName='values',
file = file.path(getwd(),paste0(beh.data$header.frame$DataFile.Basename,"_behOutput.xlsx")),
col.names = T,row.names = F,append = F,showNA = F)
write.xlsx(x=beh.data$log.frames.df,sheetName='values',
file = file.path(getwd(),paste0(beh.data$header.frame$DataFile.Basename,"_behOutput.xlsx")),
col.names = T,row.names = F,append = F,showNA = F)
cat('\nsaving at',getwd())
write.xlsx(x=as.data.frame(beh.data$log.frames.df),sheetName='values',
file = file.path(getwd(),paste0(beh.data$header.frame$DataFile.Basename,"_behOutput.xlsx")),
col.names = T,row.names = F,append = F,showNA = F)
write.xlsx(x=t(data.frame(beh.data$header.frame)),sheetName='header',
file = file.path(getwd(),paste0(beh.data$header.frame$DataFile.Basename,"_behOutput.xlsx")),
col.names = F,row.names = F,append = T,showNA = F)
source('~/GitHub/bwh_face_perception_behavioral/face_perception_behavioral_writeSingleXLSX.R')
source('~/GitHub/bwh_face_perception_behavioral/face_perception_behavioral_writeSingleXLSX.R')
getwd()
get.beh.file.contents <- dget(file.path(getwd(),'face_perception_behavioral_readSingleRun.R'))
setwd(file.path("C:",'Users','erich_000','Documents','GitHub','bwh_face_perception_behavioral'))
get.beh.file.contents <- dget(file.path(getwd(),'face_perception_behavioral_readSingleRun.R'))
beh.file.paths <- choose.files(default = file.path(getwd()),caption = "Get all behavioral files",multi = T)
beh.file.paths
length(beh.file.paths)
file.contents <- list()
basename(beh.file.paths[i])
basename(beh.file.paths[1])
tools::file_path_sans_ext(file.contents[i])
tools::file_path_sans_ext(file.contents[1])
tools::file_path_sans_ext(beh.file.paths[1])
basename(tools::file_path_sans_ext(beh.file.paths[1]))
library(readtext)
library(dplyr)
setwd(file.path("C:",'Users','erich_000','Documents','GitHub','bwh_face_perception_behavioral'))
beh.file.paths <- choose.files(default = file.path(getwd()),caption = "Get all behavioral files",multi = T)
get.beh.file.contents <- dget(file.path(getwd(),'face_perception_behavioral_readSingleRun.R'))
file.contents <- list()
for(i in 1:length(beh.file.paths)){
file.contents[[i]] <- get.beh.file.contents(beh.file.paths[i])
names(file.contents)[i]=basename(tools::file_path_sans_ext(beh.file.paths[i]))
}
glimpse(file.contents)
score.run <- dget(file.path(getwd(),'face_perception_behavioral_scoreSingleRun.R'))
beh.data <- list()
for(i in 1:length(file.contents)){
beh.data[[i]] <- score.run(file.contents[[i]])
names(beh.data)[i] <- names(file.contents)[i]
}
beh.data[[1]]$header.frame
beh.data[[1]]$log.frames
beh.data[[1]]$log.frames.df
library(readtext)
library(dplyr)
setwd(file.path("C:",'Users','erich_000','Documents','GitHub','bwh_face_perception_behavioral'))
beh.file.paths <- choose.files(default = file.path(getwd()),caption = "Get all behavioral files",multi = T)
get.beh.file.contents <- dget(file.path(getwd(),'face_perception_behavioral_readSingleRun.R'))
file.contents <- list()
for(i in 1:length(beh.file.paths)){
file.contents[[i]] <- get.beh.file.contents(beh.file.paths[i])
names(file.contents)[i]=basename(tools::file_path_sans_ext(beh.file.paths[i]))
}
score.run <- dget(file.path(getwd(),'face_perception_behavioral_scoreSingleRun.R'))
beh.data <- list()
for(i in 1:length(file.contents)){
beh.data[[i]] <- score.run(file.contents[[i]])
names(beh.data)[i] <- names(file.contents)[i]
}
cat('\nsaving at',getwd())
source('~/GitHub/bwh_face_perception_behavioral/face_perception_behavioral.R')
